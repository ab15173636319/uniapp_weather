{"version":3,"file":"http.js","sources":["utils/http.js"],"sourcesContent":["export default function http(url, data = {}, method = 'GET') {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tmethod = method.toLocaleUpperCase()\r\n\t\ttry {\r\n\t\t\tif (method === 'GET' && !data) {\r\n\t\t\t\turl = url + '?'\r\n\t\t\t\tfor (var key in data) {\r\n\t\t\t\t\turl += `${key}=${data[key]}`\r\n\t\t\t\t}\r\n\t\t\t\tdata = {}\r\n\t\t\t}\r\n\t\t\tuni.request({\r\n\t\t\t\turl: url,\r\n\t\t\t\tdata: data,\r\n\t\t\t\tmethod: method,\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tresolve(res.data)\r\n\t\t\t\t},\r\n\t\t\t\tfail(err) {\r\n\t\t\t\t\treject(err)\r\n\t\t\t\t}\r\n\r\n\t\t\t})\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(`请求【${url}】时发生错误`, error);\r\n\t\t}\r\n\t})\r\n}"],"names":["uni"],"mappings":";;AAAe,SAAS,KAAK,KAAK,OAAO,CAAA,GAAI,SAAS,OAAO;AAC5D,SAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACvC,aAAS,OAAO,kBAAmB;AACnC,QAAI;AACH,UAAI,WAAW,SAAS,CAAC,MAAM;AAC9B,cAAM,MAAM;AACZ,iBAAS,OAAO,MAAM;AACrB,iBAAO,GAAG,GAAG,IAAI,KAAK,GAAG,CAAC;AAAA,QAC1B;AACD,eAAO,CAAE;AAAA,MACT;AACDA,oBAAAA,MAAI,QAAQ;AAAA,QACX;AAAA,QACA;AAAA,QACA;AAAA,QACA,QAAQ,KAAK;AACZ,kBAAQ,IAAI,IAAI;AAAA,QAChB;AAAA,QACD,KAAK,KAAK;AACT,iBAAO,GAAG;AAAA,QACV;AAAA,MAEL,CAAI;AAAA,IACD,SAAQ,OAAO;AACfA,0BAAc,MAAA,SAAA,uBAAA,MAAM,GAAG,UAAU,KAAK;AAAA,IACtC;AAAA,EACH,CAAE;AACF;;"}